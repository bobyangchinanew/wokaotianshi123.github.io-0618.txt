<!DOCTYPE html>
<html>
<head>
<title>视频解析服务</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- 引入 Video.js 的 CSS -->
<link href="https://vjs.zencdn.net/7.10.4/video-js.css" rel="stylesheet">
<style>
  #video-container {
    width: 100%;
    max-width: 800px;
    margin: 20px auto;
  }
</style>
</head>
<body>
<div id="video-container">
  <video id="video-player" class="video-js" controls preload="auto" width="640" height="360" data-setup='{}'></video>
</div>

<!-- 引入 Video.js 的 JavaScript -->
<script src="https://vjs.zencdn.net/7.10.4/video.js"></script>
<script>
  var videoPlayer = document.getElementById('video-player');
  var urlParams = new URLSearchParams(window.location.search);
  var videoUrl = urlParams.get('url');

  if (videoUrl) {
    try {
      // 尝试解析视频流
      videoPlayer.src({ src: videoUrl, type: 'application/x-mpegURL' });
      videoPlayer.load();
      videoPlayer.play();
    } catch (error) {
      console.error('视频流无法解析:', error);
      alert('视频流无法解析。请检查链接或稍后再试。');
    }
  } else {
    alert('没有提供视频链接。');
  }
</script>
</body>
</html>
